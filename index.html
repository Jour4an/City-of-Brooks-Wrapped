<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Brooks Property Tax Year in Review - Estimate</title>
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Montserrat:wght@800;900&display=swap" rel="stylesheet">
    <style>
        :root {
            /* Wrapped Theme Colors */
            --color-wrapped-bg: #121212; /* Very Dark Background */
            --color-wrapped-card: #282828; /* Dark Card Background */
            --color-wrapped-primary: #ff9936; /* NEW ORANGE Accent */
            --color-wrapped-secondary: #ff3371; /* Hot Pink Accent */
            --color-wrapped-tertiary: #a980ff; /* Deep Violet Accent */
            --color-wrapped-text: #ffffff;
            --color-wrapped-text-dim: #c0c0c0;
        }
        
        /* Set base for full-screen, scrollable experience */
        html, body {
            height: 100%;
            width: 100%;
            overflow-y: auto; /* Allow main body scrolling */
            margin: 0;
            padding: 0;
            background-color: var(--color-wrapped-bg);
            font-family: 'Inter', sans-serif;
            color: var(--color-wrapped-text);
            scroll-behavior: smooth; /* Smooth scrolling between snap points */
        }
        
        .wrapped-container {
            /* Full screen width and height on ALL devices */
            width: 100%; 
            max-width: none; 
            overflow-y: scroll; /* Makes this the scroll-snap container */
            scroll-snap-type: y mandatory; /* Ensures it snaps to full pages */
            position: relative;
            background: var(--color-wrapped-card);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.6);
            /* Important: We set min-height to 100vh just to start the scrolling behavior correctly */
            min-height: 100vh;
        }
        
        .content-wrapper {
            max-width: 80rem; /* Wide constraint for desktop content */
            width: 100%;
            height: 100%;
            margin-left: auto;
            margin-right: auto;
            padding: 0 40px; /* Side padding on desktop */
        }

        
        .slide-page {
            /* Each section is a full viewport height page */
            height: 100vh;
            min-height: 500px; /* Minimum height for very small devices */
            padding: 40px 0; 
            display: flex;
            flex-direction: column;
            justify-content: center; 
            position: relative;
            background: var(--color-wrapped-bg); /* Use base color here */
            flex-shrink: 0; 
            scroll-snap-align: start; /* Snap point for scroll-snap */
            overflow: hidden; /* Important for moving elements off-screen */
        }
        
        /* General Mobile adjustment for inner content */
        @media (max-width: 768px) {
            .content-wrapper {
                padding: 0 20px; /* Tighter padding on mobile */
            }
        }

        .input-card {
            background-color: #3e3e3e;
        }
        
        /* Input field style */
        #assessmentInput {
            -webkit-appearance: none;
            -moz-appearance: textfield;
            font-family: 'Montserrat', sans-serif; 
            letter-spacing: 0.05em; 
            color: var(--color-wrapped-text);
            background-color: #4a4a4a;
        }
        
        .title-montserrat {
            font-family: 'Montserrat', sans-serif;
        }

        /* Utility for text colors */
        .text-wrapped-primary { color: var(--color-wrapped-primary); }
        .text-wrapped-secondary { color: var(--color-wrapped-secondary); }

        /* Wrapped Neon Text Shadow for the main H1 */
        .wrapped-text-shadow {
            text-shadow: 0 0 10px rgba(255, 153, 54, 0.4), 0 0 20px rgba(255, 153, 54, 0.2);
        }

        /* NEW: General element for scroll-based animation */
        .wrapped-animated-element {
            position: absolute;
            z-index: 0; /* Keep behind content */
            opacity: 0.2;
            will-change: transform, opacity; /* Optimization for smooth animation */
            pointer-events: none;
        }
        
        /* NEW: Neon Glow effect for backgrounds (using tertiary color) */
        .neon-background-glow {
            width: 300px;
            height: 300px;
            background-color: var(--color-wrapped-tertiary); 
            box-shadow: 0 0 50px var(--color-wrapped-tertiary), 
                        0 0 100px rgba(169, 128, 255, 0.5), 
                        0 0 150px rgba(169, 128, 255, 0.3); /* Stronger violet glow */
            border-radius: 50%;
            filter: blur(50px);
        }

        /* Navigation buttons are removed, so this container is empty */
        .nav-buttons-container { display: none; } 
    </style>
</head>
<body class="p-0">
    
    <!-- Navigation Controls Container (Empty as we use scroll) -->
    <div class="nav-buttons-container"></div>
    
    <!-- Main Wrapped Container (Full screen) -->
    <div id="wrapped-content" class="wrapped-container border-4 border-white/10">

        <!-- Slides now flow vertically (no slide-wrapper needed) -->

        <!-- PAGE 1: HEADER & INPUT -->
        <div id="page-1" class="slide-page">
            <!-- Animated Background Glow -->
            <div id="glow-circle" class="neon-background-glow wrapped-animated-element top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 opacity-50"></div>
            
            <!-- Animated Floating Icon -->
            <div id="animated-dollar" class="wrapped-animated-element text-8xl font-black title-montserrat text-wrapped-primary" style="left: 20%; top: 70%; opacity: 1;">
                $
            </div>

            <div class="content-wrapper flex flex-col items-center justify-center relative z-10">
                <div class="text-center mb-6 max-w-2xl">
                    <h2 class="text-xl font-bold uppercase tracking-widest text-white/70 mb-1 title-montserrat">
                        City of Brooks
                    </h2>
                    <h1 class="text-6xl sm:text-7xl font-black title-montserrat wrapped-text-shadow" 
                        style="line-height: 0.95; color: var(--color-wrapped-primary);">
                        YEAR IN REVIEW
                    </h1>
                    <p class="text-lg font-medium mt-3 text-white/90 max-w-sm mx-auto">
                        Ever wondered where **your property taxes** went? Here‚Äôs your personalized breakdown‚Äîjust enter your assessment!
                    </p>
                </div>
                <!-- Section 1: Assessment Input -->
                <div class="mb-10 input-card p-6 rounded-xl text-center max-w-md w-full relative z-10">
                    <label for="assessmentInput" class="text-base font-medium block mb-3 text-white/80 font-inter">
                        1. Start Here: Enter Your Property Assessment Value (CAD)
                    </label>
                    <div class="flex justify-center items-center">
                        <span class="text-5xl mr-2 text-wrapped-primary font-bold title-montserrat">$</span>
                        <input
                            type="text"
                            id="assessmentInput"
                            value="350,000"
                            min="1"
                            class="text-5xl font-black p-3 w-64 text-center border-0 rounded-lg focus:ring-4 focus:ring-wrapped-secondary transition duration-150 title-montserrat"
                            oninput="formatAssessmentInput(this); calculateTaxes();"
                        >
                    </div>
                    <p class="text-xs mt-3 text-white/50 text-center font-inter">
                        Based on **Estimated** 2025 Mill Rate: <span id="millRateDisplay2025" class="font-bold text-white/70"></span> per $1,000
                    </p>
                </div>
                <!-- Disclaimer and Footnote -->
                <div class="mt-6 text-center max-w-2xl relative z-10">
                    <p class="text-sm font-semibold text-white/60 mb-2">
                        This is an **estimate** based on the proposed budget. Your final tax notice may vary.
                    </p>
                    <p class="text-xs text-white/40">
                        Disclaimer: For reference only‚Äîthe **final, audited numbers for this period will be available in March**. This breakdown is based on the proposed 2025 budget.
                    </p>
                </div>
            </div>
        </div>
        
        <!-- PAGE 2: TOTAL TAX BILL REVEAL -->
        <div id="page-2" class="slide-page">
            <div class="content-wrapper flex flex-col items-center justify-center text-center">
                <h3 class="text-2xl font-semibold uppercase text-white/70 tracking-wider mb-6">
                    2. The Headline Stat
                </h3>
                <p class="text-3xl sm:text-4xl font-bold mb-4">
                    Your Total Property Tax Bill Was...
                </p>
                <!-- This element is animated via JS on scroll -->
                <span id="totalTaxDisplay" class="text-7xl md:text-8xl font-extrapold mt-3 block title-montserrat" style="color: var(--color-wrapped-secondary); will-change: transform, filter;"></span>
                <p class="text-xl mt-6 text-white/80">
                    That's your estimated contribution to the City of Brooks for the year.
                </p>
            </div>
        </div>

        <!-- PAGE 3: PRIMARY ALLOCATION (The Big Three) -->
        <div id="page-3" class="slide-page">
            <div class="content-wrapper flex flex-col items-center justify-center text-center">
                <h3 class="text-3xl font-black text-white/90 title-montserrat mb-6">
                    3. Where Your Dollars Went
                </h3>
                <p class="text-xl text-white/70 mb-8 font-inter">
                    This is how your estimated total tax of <span id="taxValuePlaceholder" class="font-extrabold text-wrapped-secondary">$0.00</span> was divided:
                </p>
                <div id="primaryBreakdown" class="grid grid-cols-1 md:grid-cols-3 gap-6 text-center max-w-5xl w-full">
                    <!-- Cards generated here by JS, will be given initial hidden styles by JS -->
                </div>
            </div>
        </div>
        
        <!-- PAGE 4: MUNICIPAL DEEP DIVE -->
        <div id="page-4" class="slide-page">
            <!-- Ensure content-wrapper is flex for vertical centering/fitting -->
            <div class="content-wrapper flex flex-col items-center justify-center">
                <h3 class="text-3xl font-black mb-4 text-white/90 title-montserrat">
                    4. Departments Funded
                </h3>
                <p class="text-lg text-white/70 mb-4 font-inter text-center">
                    Your Municipal portion of <span id="municipalValuePlaceholder" class="font-extrabold text-wrapped-primary">$0.00</span> went to these departments:
                </p>
                <!-- Chart Container: REDUCED SPACING to fit more content vertically -->
                <div id="departmentBreakdownChart" class="space-y-1 max-w-xl w-full">
                    <!-- Bar Chart generated here by JS -->
                </div>
                <p class="text-sm text-white/60 mt-4 text-center">
                    (Departments funded by your municipal tax portion)
                </p>
            </div>
        </div>

        <!-- PAGE 5: UTILITIES -->
        <div id="page-5" class="slide-page">
            <div class="content-wrapper flex flex-col items-center justify-center text-center">
                <h3 class="text-3xl font-black mb-6 text-white/90 title-montserrat">
                    5. Utilities Keep Brooks Flowing
                </h3>
                <p class="text-xl text-white/70 mb-10 font-inter">
                    Your utility fees ensure these essential services run year-round:
                </p>
                <ul class="space-y-6 max-w-3xl w-full">
                    <li class="flex items-center p-4 rounded-xl border border-white/20 hover:border-wrapped-primary transition duration-300 text-left" style="background-color: #2e2e2e;">
                        <span class="text-4xl mr-4 leading-none">üíß</span>
                        <span class="font-bold text-xl">Water Supply & Treatment</span>
                    </li>
                    <li class="flex items-center p-4 rounded-xl border border-white/20 hover:border-wrapped-primary transition duration-300 text-left" style="background-color: #2e2e2e;">
                        <span class="text-4xl mr-4 leading-none">‚ôªÔ∏è</span>
                        <span class="font-bold text-xl">Sewer & Wastewater Management</span>
                    </li>
                    <li class="flex items-center p-4 rounded-xl border border-white/20 hover:border-wrapped-primary transition duration-300 text-left" style="background-color: #2e2e2e;">
                        <span class="text-4xl mr-4 leading-none">üóëÔ∏è</span>
                        <span class="font-bold text-xl">Garbage & Yard Waste Collection</span>
                    </li>
                </ul>
            </div>
        </div>
        
        <!-- PAGE 6: 2025 PROJECTS -->
        <div id="page-6" class="slide-page">
            <div class="content-wrapper flex flex-col items-center justify-center text-center">
                <h3 class="text-3xl font-black mb-6 text-white/90 title-montserrat">
                    6. Projects Completed in 2025
                </h3>
                <p class="text-xl text-white/70 mb-8 font-inter">
                    Infrastructure and community projects funded by your 2025 tax contribution:
                </p>
                <ul class="space-y-4 max-w-3xl w-full text-left">
                    <li class="flex items-start text-white/80 p-3 rounded-md border-l-4 border-wrapped-secondary">
                        <span class="text-wrapped-secondary mr-3 text-xl leading-none">üöß</span>
                        <span class="font-semibold text-lg">Annual Street Improvement (Roads and Paving)</span>
                    </li>
                    <li class="flex items-start text-white/80 p-3 rounded-md border-l-4 border-wrapped-primary">
                        <span class="text-wrapped-primary mr-3 text-xl leading-none">üå≥</span>
                        <span class="font-semibold text-lg">Trail Beautification (New Landscaping and Benches)</span>
                    </li>
                    <li class="flex items-start text-white/80 p-3 rounded-md border-l-4 border-wrapped-tertiary">
                        <span class="text-wrapped-tertiary mr-3 text-xl leading-none">üõπ</span>
                        <span class="font-semibold text-lg">Skateboard Park (New Installation & Concrete Work)</span>
                    </li>
                    <li class="flex items-start text-white/80 p-3 rounded-md border-l-4 border-wrapped-secondary">
                        <span class="text-wrapped-secondary mr-3 text-xl leading-none">üí¶</span>
                        <span class="font-semibold text-lg">Uplands Spray Park (Refurbishment and Feature Upgrades)</span>
                    </li>
                </ul>
            </div>
        </div>
        <!-- === END SLIDES === -->
    </div>

    <script>
        // --- CONSTANTS ---
        const RAW_MILL_RATE_2025 = 10.961423;
        const MILL_RATE_PER_DOLLAR_2025 = RAW_MILL_RATE_2025 / 1000; 
        
        // Primary Tax Breakdown (of Total Tax Bill)
        const PRIMARY_BREAKDOWN = [
            { name: "Municipal", percentage: 0.77, color: 'var(--color-wrapped-primary)', icon: 'üè†' },
            { name: "Education", percentage: 0.22, color: 'var(--color-wrapped-secondary)', icon: 'üìö' },
            { name: "Newell Fdn", percentage: 0.01, color: 'var(--color-wrapped-tertiary)', icon: 'üëµ' }
        ];
        
        // Departmental Breakdown (of the MUNICIPAL PORTION ONLY - 77% of total tax)
        const DEPARTMENT_BREAKDOWN = [
            { name: "Policing", cents: 21.0, color: "#904CFF" }, 
            { name: "Recreation", cents: 17.2, color: "#00E0C7" }, 
            { name: "Transportation", cents: 16.7, color: "#FF6B6B" }, 
            { name: "Administration", cents: 11.0, color: "#FFA600" }, 
            { name: "Parks & Green Space", cents: 6.5, color: "#5FDD90" }, 
            { name: "Culture and Facilities", cents: 5.3, color: "#FF98D4" }, 
            { name: "Fiscal and Taxation", cents: 5.1, color: "#6A5ACD" }, 
            { name: "Fire Services", cents: 4.11, color: "#F08080" }, 
            { name: "Community Support Services", cents: 3.3, color: "#4682B4" }, 
            { name: "Municipal Enforcement", cents: 2.1, color: "#DEB887" }, 
            { name: "Planning and Development", cents: 2.0, color: "#DDA0DD" }, 
            { name: "Council", cents: 1.8, color: "#ADD8E6" }, 
            { name: "Economic Development", cents: 1.1, color: "#98FB98" }, 
            { name: "Access Transit", cents: 1.0, color: "#7B68EE" }, 
            { name: "Land", cents: 0.5, color: "#B0C4DE" }, 
            { name: "Cemetery", cents: 0.5, color: "#A9A9A9" }, 
            { name: "Engineering", cents: 0.4, color: "#FAEBD7" }, 
            { name: "Airport", cents: 0.4, color: "#DCDCDC" }, 
        ].sort((a, b) => b.cents - a.cents); 


        // --- UTILITY FUNCTIONS ---

        function formatCurrency(amount) {
            return new Intl.NumberFormat('en-CA', {
                style: 'currency',
                currency: 'CAD',
                minimumFractionDigits: 2,
            }).format(amount);
        }

        function formatAssessmentInput(input) {
            const cursorPosition = input.selectionStart;
            const oldValue = input.value;
            let value = input.value.replace(/[^0-9]/g, '');

            if (value === '') {
                input.value = '';
                return;
            }

            const number = parseInt(value, 10);
            const formattedValue = new Intl.NumberFormat('en-CA').format(number);

            input.value = formattedValue;

            const newLength = formattedValue.length;
            const oldLength = oldValue.length;
            const difference = newLength - oldLength;

            if (cursorPosition !== null) {
                input.setSelectionRange(cursorPosition + difference, cursorPosition + difference);
            }
        }

        // --- MAIN CALCULATOR LOGIC ---
        function calculateTaxes() {
            const inputElement = document.getElementById('assessmentInput');
            const assessmentValue = parseFloat(inputElement.value.replace(/[^0-9.]/g, ''));

            document.getElementById('millRateDisplay2025').textContent = RAW_MILL_RATE_2025.toFixed(8);

            if (isNaN(assessmentValue) || assessmentValue <= 0) {
                document.getElementById('totalTaxDisplay').textContent = formatCurrency(0);
                document.getElementById('primaryBreakdown').innerHTML = '<p class="text-red-400">Please enter a valid assessment value.</p>';
                document.getElementById('departmentBreakdownChart').innerHTML = '';
                
                document.getElementById('taxValuePlaceholder').textContent = formatCurrency(0);
                document.getElementById('municipalValuePlaceholder').textContent = formatCurrency(0);
                return;
            }

            // 1. Calculate Total Tax
            const totalTax = assessmentValue * MILL_RATE_PER_DOLLAR_2025;
            document.getElementById('totalTaxDisplay').textContent = formatCurrency(totalTax);
            document.getElementById('taxValuePlaceholder').textContent = formatCurrency(totalTax);
            
            // 2. Primary Breakdown
            updatePrimaryBreakdown(totalTax);

            // 3. Departmental Breakdown (based on Municipal Share)
            const municipalPortion = totalTax * PRIMARY_BREAKDOWN[0].percentage;
            document.getElementById('municipalValuePlaceholder').textContent = formatCurrency(municipalPortion);
            updateDepartmentBreakdownChart(municipalPortion);
        }


        // --- WRAPPED VISUALIZATION RENDERING ---

        function updatePrimaryBreakdown(totalTax) {
            const breakdownHtml = PRIMARY_BREAKDOWN.map(item => {
                const shareAmount = totalTax * (item.percentage);

                // Add data-index for scroll animation targeting
                return `
                    <div class="p-6 rounded-xl shadow-lg border border-white/10 transition duration-300 hover:border-wrapped-primary" style="background-color: var(--color-wrapped-card);" data-index="${item.name}">
                        <div class="text-5xl mb-3">${item.icon}</div>
                        <p class="text-xl font-bold title-montserrat uppercase" style="color:${item.color};">${item.name}</p>
                        <p class="text-3xl font-black mt-1 title-montserrat text-white">${formatCurrency(shareAmount)}</p>
                        <p class="text-base text-white/50 mt-1">${(item.percentage * 100).toFixed(0)}% of Bill</p>
                    </div>
                `;
            }).join('');

            document.getElementById('primaryBreakdown').innerHTML = breakdownHtml;
            // After generating, set initial hidden state for cards for scroll animation
            document.querySelectorAll('#primaryBreakdown > div').forEach(card => {
                card.style.opacity = 0;
                card.style.transform = 'translateY(50px)';
                card.style.transition = 'none'; // Disable transition initially
            });
        }

        function updateDepartmentBreakdownChart(municipalPortion) {
            const allDepartments = DEPARTMENT_BREAKDOWN; 
            const maxCents = allDepartments[0].cents; 

            const chartHtml = allDepartments.map((item, index) => {
                const percentageOfMunicipal = item.cents / 100;
                const shareAmount = municipalPortion * percentageOfMunicipal;
                
                // Scale bar width based on the highest category (Policing)
                const barWidth = (item.cents / maxCents) * 100;
                
                // CONDENSED STYLES
                return `
                    <div class="flex flex-col">
                        <div class="flex justify-between items-end mb-0.5"> <!-- Reduced vertical margin -->
                            <!-- text-xs/sm for names -->
                            <span class="text-xs sm:text-sm font-semibold text-white/90">${index + 1}. ${item.name}</span>
                            <!-- text-sm/base for amounts -->
                            <span class="text-sm sm:text-base font-black title-montserrat whitespace-nowrap" style="color: ${item.color};">${formatCurrency(shareAmount)}</span>
                        </div>
                        <!-- h-2 for bar (Reduced height) -->
                        <div class="h-2 rounded-full bg-white/10 overflow-hidden shadow-inner">
                            <div 
                                class="h-full rounded-full transition-all duration-500" 
                                style="width: ${barWidth}%; background-color: ${item.color};"
                            ></div>
                        </div>
                    </div>
                `;
            }).join('');

            document.getElementById('departmentBreakdownChart').innerHTML = chartHtml;
        }

        // --- SCROLL ANIMATION LOGIC ---
        window.onscroll = function() {
            handleScrollAnimations();
        };

        function handleScrollAnimations() {
            const scrollY = window.scrollY;
            const vh = window.innerHeight;

            // --- Animation for Page 1 Elements (Floating $) ---
            const dollarElement = document.getElementById('animated-dollar');
            const glowCircle = document.getElementById('glow-circle');

            if (dollarElement && scrollY < vh) {
                // Calculate progress as user scrolls down page 1 (0 to 1)
                const progress = scrollY / vh; 
                
                // Move element upward and slightly to the right, fade out as we leave page 1
                const translateY = progress * -150; // Move up 150px
                const translateX = progress * 100;  // Move right 100px
                const rotation = progress * 360; // Spin one full rotation
                const opacity = 1 - progress * 1.5; // Fade out faster
                
                dollarElement.style.transform = `translate(${translateX}px, ${translateY}px) rotate(${rotation}deg)`;
                dollarElement.style.opacity = Math.max(0, opacity);
                
                glowCircle.style.transform = `scale(${1 + progress * 0.2})`; // Grow slightly
                glowCircle.style.opacity = Math.max(0.05, 0.5 - progress * 0.4); // Fade slightly
            } else if (dollarElement) {
                dollarElement.style.opacity = 0; // Ensure hidden when scrolled past
            }
            
            // --- Animation for Page 2 Elements (Total Tax Reveal Pulse) ---
            const totalTaxElement = document.getElementById('totalTaxDisplay');
            const page2Top = vh;
            const page2Bottom = vh * 2;
            
            if (totalTaxElement && scrollY >= page2Top && scrollY < page2Bottom) {
                // Calculate progress within page 2 (0 to 1)
                const progress = (scrollY - page2Top) / vh; 
                
                // Pulse up then down within the center of the screen
                const scale = 1 + Math.sin(progress * Math.PI) * 0.1; 
                totalTaxElement.style.transform = `scale(${scale})`;
                totalTaxElement.style.filter = `brightness(${1 + Math.sin(progress * Math.PI) * 0.3})`;
            } else if (totalTaxElement) {
                // Reset scale outside of page 2
                totalTaxElement.style.transform = 'scale(1)';
                totalTaxElement.style.filter = 'brightness(1)';
            }

            // --- Animation for Page 3 (Primary Breakdown Card Slide-In) ---
            const breakdownCards = document.querySelectorAll('#primaryBreakdown > div');
            const page3Top = vh * 2;
            
            if (breakdownCards.length > 0) {
                 if (scrollY >= page3Top) {
                    // Start animation as the top of page 3 enters the viewport (vh * 2)
                    const progress = Math.min(1, (scrollY - page3Top) / (vh * 0.5)); // Full progress halfway down the page
                    
                    breakdownCards.forEach((card, index) => {
                        // Staggered slide-up effect
                        const delayProgress = Math.max(0, progress - index * 0.1);
                        const translateY = (1 - delayProgress) * 50;
                        const opacity = delayProgress;

                        card.style.transition = 'transform 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275), opacity 0.5s ease-out'; // Use spring-like easing
                        card.style.transform = `translateY(${translateY}px)`;
                        card.style.opacity = opacity;
                    });
                } else {
                    // Ensure cards are hidden when scrolled back up
                     breakdownCards.forEach(card => {
                         card.style.transform = 'translateY(50px)';
                         card.style.opacity = 0;
                         card.style.transition = 'none'; // Disable transition when off-screen to avoid movement on quick scroll
                     });
                }
            }
        }
        
        // Initialize the calculator and slides on load
        window.onload = () => {
            const inputElement = document.getElementById('assessmentInput');
            formatAssessmentInput(inputElement);
            calculateTaxes();
            handleScrollAnimations(); // Initial call to set positions
        };

    </script>

</body>
</html>